<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" *ngIf="screenWidth < 1000">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title style="width: auto; margin: 0;"  *ngIf="screenWidth < 1000">Venta</ion-title>

    <app-navigation-toolbar *ngIf="screenWidth >= 1000"></app-navigation-toolbar>

    <ion-buttons color="primary" slot="end" class="shoppingCartSeccion" *ngIf="shoppingCartInfo.active">
      <ion-text >{{shoppingCartInfo.totalProducts}}</ion-text>
      <ion-icon name="cart-outline" style="font-size: 1.7rem; padding: 0 8px 0 4px;"></ion-icon>
      <!-- <ion-text style="padding: 0 8px 0 8px;">${{shoppingCartInfo.amount}}</ion-text> -->
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="optionsSales">
    <ion-icon name="add-outline" (click)="addProduct()"></ion-icon>
    <ion-icon name="scan-outline" (click)="scan()"></ion-icon>
    <ion-icon name="cash-outline"></ion-icon>
  </div>

  <div class="search">
      <ion-searchbar animated="true" placeholder="Producto" show-clear-button="focus" [debounce]="1000" (ionInput)="handleInputSearchProduct($event)">
      </ion-searchbar>
      <ion-icon name="funnel-outline" (click)="openSalesFilterModal()"></ion-icon>
  </div>

  <!-- <ion-fab vertical="bottom" horizontal="end">
      <ion-fab-button>
        <ion-icon name="chevron-up"></ion-icon>
      </ion-fab-button>
      <ion-fab-list side="top">
        <ion-fab-button>
          <ion-icon name="cash-outline"></ion-icon>
        </ion-fab-button>
        <ion-fab-button>
          <ion-icon name="scan-outline"></ion-icon>
        </ion-fab-button>
        <ion-fab-button (click)="addProduct()">
          <ion-icon name="add-outline"></ion-icon>
        </ion-fab-button>
      </ion-fab-list>
    </ion-fab> -->

    <div *ngIf="!categoryInfo.inside && !querySearchBar" style="padding: 8px; margin: 0 1rem 0 1rem;">
      <ion-text>
        <h1 style="margin: 0px;">Categorias</h1>
      </ion-text>
    </div>

    <ion-grid *ngIf="!categoryInfo.inside" style="margin: 0 1rem 0 1rem; padding: 0;">
      <ion-row *ngIf="!querySearchBar">
        <ion-col *ngFor="let category of categoriesData | keyvalue">
          <ion-item style="cursor: pointer;" (click)="openCategory(getString(category.key))">
            <ion-label>{{ category.key }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ng-container *ngIf="querySearchBar">
        <ion-row *ngFor="let product of resultsSearchBar">
          <ion-col>
            <ion-item style="cursor: pointer;" (click)="openCategory(getString(product.category))">
              <ion-label>{{ product.name }}</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>
      </ng-container>
    </ion-grid>

    <div *ngIf="categoryInfo.inside" style="padding: 8px; display: flex; flex-direction: column; justify-content: space-between;">
      <div style="    align-self: flex-end;">
        <ion-icon name="close-outline" (click)="backToCategoriesSeccion()" style="font-size: 2rem; cursor: pointer;"></ion-icon>
      </div>
      <div>
        <ion-text>
          <h1 style="margin: 0px;">{{ categoryInfo.name }}</h1>
        </ion-text>
      </div>
    </div>

    <ion-grid *ngIf="categoryInfo.inside">
      <ion-row>
        <ion-col *ngFor="let product of categoryInfo.data">
          <ion-item style="cursor: pointer;" (click)="selectQuantityOfProduct(product)">
            <ion-thumbnail slot="start">
              <img alt="{{product.name}}" [src]="product.image_url" />
            </ion-thumbnail>
            <ion-label>{{ product.name }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
</ion-content>

<!-- <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title style="width: auto; margin: 0;">Venta</ion-title>


    <ion-buttons color="primary" slot="end" *ngIf="shoppingCartInfo.active" style=" display: flex; justify-content: center; align-items: center; cursor: pointer;">
      <ion-text >{{shoppingCartInfo.totalProducts}}</ion-text>
      <ion-icon name="cart-outline" style="font-size: 1.7rem; padding: 0 8px 0 4px;"></ion-icon>
      <ion-text style="padding: 0 8px 0 8px;">${{shoppingCartInfo.amount}}</ion-text>
    </ion-buttons>
</ion-toolbar> -->